{
  "hash": "1650aaffb3b3b97912a9f5e867725bb4",
  "result": {
    "markdown": "---\ndate: 2022-10-17\nlesson: PrePro2\nthema: Piping / Joins\nindex: 2\n---\n\n\n# Prepro 2: Übung A\n\n\n\n\n\nFür die Musterlösungen werden wir die nachstehenden Libraries verwenden:\n\n\n\n\n\n## Aufgabe 1\n\nLade die Wetterdaten von letzer Woche runter ([weather.csv](https://moodle.zhaw.ch/mod/resource/view.php?id=602135), Quelle MeteoSchweiz) und importiere sie in `R`. Sorge dafür, dass die Spalten korrekt formatiert sind (`stn` als `factor`, `time` als `POSIXct`, `tre200h0` als `numeric`.)\n\n\n\n\n\n\n\n## Aufgabe 2\n\nLade [metadata](https://moodle.zhaw.ch/mod/resource/view.php?id=602139) herunter und lade es ebenfalls als csv ein.\n\nHinweis: Wenn Umlaute und Sonderzeichen nicht korrekt dargestellt werden (z.B. in Gen*è*ve), hat das vermutlich mit der [Zeichencodierung](https://de.wikipedia.org/wiki/Zeichenkodierung) zu tun. Das File ist aktuell in 'ANSI' Codiert, welche für gewisse Betriebssysteme / R-Versionen ein Problem darstellt. Um das Problem zu umgehen muss man das File mit einem Editor öffnen (Windows 'Editor' oder 'Notepad++', Mac: 'TextEdit') und mit einer neuen Codierung (z.B 'UTF-8') abspeichern. Danach kann die Codierung spezifitiert werden (bei `read_delim()`: mit locale = locale(encoding = \"UTF-8\")`)\n\n\n\n\n\n## Aufgabe 3\n\nDie x-/y-Koordinaten sind aktuell in einer Spalte erfasst. Um mit den Koordinaten sinnvoll arbeiten zu können, brauchen wir die Koordinaten getrennt. Trenne die `x` und `y` Koordinaten aus der Spalte `Koordinaten`.\n\n1. Schritt: verwende `stringr::str_split_fixed` um die Spalte in eine `matrix` zu überführen\n2. Schritt: benenne die Spalten der `matrix` in `x` und `y` um\n3. Schritt: nutze `cbind` um die `matrix` mit der `data.frame` zu verbinden\n\n\n\n\n\n## Aufgabe 4\n\nNun wollen wir den Datensatz `wetter`mit den Informationen aus `metadata` anreichern. Uns interessiert aber nur das Stationskürzel, der Name, die x/y Koordinaten sowie die Meereshöhe. Lösche die nicht benötigten Spalten (oder selektiere die benötigten Spalten).\n\n\n\n\n\n## Aufgabe 5\n\nNun ist der Datensatz `metadata` genügend vorbereitet. Jetzt kann er mit dem Datensatz `wetter` verbunden werden. Überlege dir, welcher Join dafür sinnvoll ist und mit welchem Attribut wir \"joinen\" können.\n\nNutze die Join-Möglichkeiten von `dplyr` (Hilfe via `?dplyr::join`)  um die Datensätze `wetter` und `metadata` zu verbinden.\n\n\n\n\n\n## Aufgabe 6\n\nErstelle eine neue Spalte `month` welche den jeweiligen Monat (aus `time`) beinhaltet. Nutze dafür die Funktion `lubridate::month()`.\n\n\n\n\n\n## Aufgabe 7\n\nBerechne mit der Spalte `month` die Durchschnittstemperatur pro Monat.\n\n\n\n\n\n\n## Musterlösung\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}