{
  "hash": "c3c326f5325be7cdb5779c34b4c00ae4",
  "result": {
    "markdown": "---\ntitle: \"Demo - Open Datasets\"\nauthor: Gian-Andrea Egeler\nlerneinheit: StatKons1\ndate: 2021-11-15\n---\n\n\n\n::: {.cell}\n\n:::\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──\n✔ ggplot2 3.3.6     ✔ purrr   0.3.4\n✔ tibble  3.1.8     ✔ dplyr   1.0.9\n✔ tidyr   1.2.0     ✔ stringr 1.4.0\n✔ readr   2.1.2     ✔ forcats 0.5.1\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\n```\n:::\n:::\n\n\n## Verschiedene Datensätze\n\nIn diesem Dokument findet ihr verschiedene Wege und Quellen, um an Datensätze zu gelangen.\n\n### in R\n\nIn R gibt es vordefinierte Datensätze, welche gut abrufbar sind. Beispiele sind:\n\n* sleep\n* USAccDeaths\n* USArrests\n* ...\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata() # erzeugt eine Liste mit den Datensätzen, welche in R verfügbaren sind\nhead(chickwts)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  weight      feed\n1    179 horsebean\n2    160 horsebean\n3    136 horsebean\n4    227 horsebean\n5    217 horsebean\n6    168 horsebean\n```\n:::\n\n```{.r .cell-code}\nstr(chickwts)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n'data.frame':\t71 obs. of  2 variables:\n $ weight: num  179 160 136 227 217 168 108 124 143 140 ...\n $ feed  : Factor w/ 6 levels \"casein\",\"horsebean\",..: 2 2 2 2 2 2 2 2 2 2 ...\n```\n:::\n:::\n\n\n### Kaggle\n\nAuf [Kaggle](www.kaggle.com) findet ihr öffentlich zugängliche Datensätze. Einzig was ihr tun müsst, ist euch registrieren. Beispiele sind:\n\n* [911](https://www.kaggle.com/mchirico/montcoalert)\n* [foodPreferences](https://www.kaggle.com/borapajo/food-choices#food_coded.csv)\n* [S.F. salaries](https://www.kaggle.com/kaggle/sf-salaries)\n* ...\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load packages and data\ndata_911 <- read_delim(here(\"data\",\"911.csv\"), delim = \",\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 99492 Columns: 9\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr  (4): desc, title, twp, addr\ndbl  (4): lat, lng, zip, e\ndttm (1): timeStamp\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\nstr(data_911)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nspec_tbl_df [99,492 × 9] (S3: spec_tbl_df/tbl_df/tbl/data.frame)\n $ lat      : num [1:99492] 40.3 40.3 40.1 40.1 40.3 ...\n $ lng      : num [1:99492] -75.6 -75.3 -75.4 -75.3 -75.6 ...\n $ desc     : chr [1:99492] \"REINDEER CT & DEAD END;  NEW HANOVER; Station 332; 2015-12-10 @ 17:10:52;\" \"BRIAR PATH & WHITEMARSH LN;  HATFIELD TOWNSHIP; Station 345; 2015-12-10 @ 17:29:21;\" \"HAWS AVE; NORRISTOWN; 2015-12-10 @ 14:39:21-Station:STA27;\" \"AIRY ST & SWEDE ST;  NORRISTOWN; Station 308A; 2015-12-10 @ 16:47:36;\" ...\n $ zip      : num [1:99492] 19525 19446 19401 19401 NA ...\n $ title    : chr [1:99492] \"EMS: BACK PAINS/INJURY\" \"EMS: DIABETIC EMERGENCY\" \"Fire: GAS-ODOR/LEAK\" \"EMS: CARDIAC EMERGENCY\" ...\n $ timeStamp: POSIXct[1:99492], format: \"2015-12-10 17:40:00\" \"2015-12-10 17:40:00\" ...\n $ twp      : chr [1:99492] \"NEW HANOVER\" \"HATFIELD TOWNSHIP\" \"NORRISTOWN\" \"NORRISTOWN\" ...\n $ addr     : chr [1:99492] \"REINDEER CT & DEAD END\" \"BRIAR PATH & WHITEMARSH LN\" \"HAWS AVE\" \"AIRY ST & SWEDE ST\" ...\n $ e        : num [1:99492] 1 1 1 1 1 1 1 1 1 1 ...\n - attr(*, \"spec\")=\n  .. cols(\n  ..   lat = col_double(),\n  ..   lng = col_double(),\n  ..   desc = col_character(),\n  ..   zip = col_double(),\n  ..   title = col_character(),\n  ..   timeStamp = col_datetime(format = \"\"),\n  ..   twp = col_character(),\n  ..   addr = col_character(),\n  ..   e = col_double()\n  .. )\n - attr(*, \"problems\")=<externalptr> \n```\n:::\n:::\n\n\n### Tidytuesday\n\n[Tidytuesday](https://github.com/rfordatascience/tidytuesday) ist eine Plattform, in der wöchentlich - jeden Dienstag - einen öffentlich zugänglichen Datensatz publiziert. Dieses Projekt ist aus der [R4DS](https://r4ds.had.co.nz/) Online Learning Community und dem R for Data Science Lehrbuch hervorgegangen. Beispiele sind:\n\n* [Women in the Workplace](https://github.com/rfordatascience/tidytuesday/tree/master/data/2019/2019-03-05)\n* [Dairy production & Consumption](https://github.com/rfordatascience/tidytuesday/tree/master/data/2019/2019-01-29)\n* [Star Wars Survey](https://github.com/rfordatascience/tidytuesday/tree/master/data/2018/2018-05-14)\n* [Global Coffee Chains](https://github.com/rfordatascience/tidytuesday/tree/master/data/2018/2018-05-07)\n* [Malaria Deaths](https://github.com/rfordatascience/tidytuesday/tree/master/data/2018/2018-11-13)\n* ...\n\n**Download via Github - 1. Möglichkeit**\n\n1. Geht zum File, welches ihr herunterladen wollt\n\n2. Klickt auf das File (.csv, .xlsx etc.), um den Inhalt innerhalb der GitHub Benutzeroberfläche anzuzeigen ![](1_github.PNG){width=70%} \n\n3. Klickt mit der rechten Maustaste auf den Knopf \"raw\"\n![](2_github.PNG){width=70%}\n\n4. (Ziel) Speichern unter...\n\n**Download via Github - 2. Möglichkeit**\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Beachtet dabei, dass ihr die URL zum originalen (raw) Datensatz habt \nstar_wars <- readr::read_csv(\"https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2018/2018-05-14/week7_starwars.csv\", locale = readr::locale(encoding = \"latin1\")) #not working yet \n```\n\n::: {.cell-output .cell-output-stderr}\n```\nNew names:\nRows: 1187 Columns: 38\n── Column specification\n──────────────────────────────────────────────────────── Delimiter: \",\" chr\n(37): Have you seen any of the 6 films in the Star Wars franchise?, Do y... dbl\n(1): RespondentID\nℹ Use `spec()` to retrieve the full column specification for this data. ℹ\nSpecify the column types or set `show_col_types = FALSE` to quiet this message.\n• `` -> `...5`\n• `` -> `...6`\n• `` -> `...7`\n• `` -> `...8`\n• `` -> `...9`\n• `` -> `...11`\n• `` -> `...12`\n• `` -> `...13`\n• `` -> `...14`\n• `` -> `...15`\n• `` -> `...17`\n• `` -> `...18`\n• `` -> `...19`\n• `` -> `...20`\n• `` -> `...21`\n• `` -> `...22`\n• `` -> `...23`\n• `` -> `...24`\n• `` -> `...25`\n• `` -> `...26`\n• `` -> `...27`\n• `` -> `...28`\n• `` -> `...29`\n```\n:::\n:::\n\n\n### opendata.swiss\n\nAuf [opendata.swiss](https://opendata.swiss/en/) sind offene, frei verfügbare Daten der Schweizerischen Behörden zu finden. opendata.swiss ist ein gemeinsames Projekt von Bund, Kantonen, Gemeinden und weiteren Organisationen mit einem staatlichen Auftrag. Beispiele sind:\n\n* [Statistik der Schweizer Städte](https://opendata.swiss/en/dataset/statistik-der-schweizer-stadte-wohnbevolkerung-1930-2011)\n* [Verpflegungsbetriebe nach Jahr und Stadtquartier](https://opendata.swiss/de/dataset/verpflegungsbetriebe-nach-jahr-und-stadtquartier)\n* [Altpapiermengen](https://opendata.swiss/de/dataset/altpapiermengen-tonnen)\n* ...\n\n### Open Data Katalog Stadt Zürich\n\nAuf der Seite der [Stadt Zürich Open Data](https://data.stadt-zuerich.ch/) findet ihr verschiedene Datensätze der Stadt Zürich. Spannend daran ist, dass die veröffentlichten Daten kostenlos und zur freien - auch kommerziellen - Weiterverwendung zur Verfügung. Beispiele sind:\n\n* [Bevölkerung nach Bildungsstand, Jahr, Alter und Geschlecht seit 1970](https://data.stadt-zuerich.ch/dataset/bfs_bev_bildungsstand_alter_geschl_seit1970_od1005)\n* [Luftqualitätsmessungen](https://data.stadt-zuerich.ch/dataset/luftqualitaet-historisierte-messungen)\n* [Häufigste Hauptsprachen](https://data.stadt-zuerich.ch/dataset/bfs_ste_bev_hauptsprachen_top50_od3011)\n* ...\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# lade die Datei \"Häufigste Sprachen\"\nurlfile = \"https://data.stadt-zuerich.ch/dataset/bfs_ste_bev_hauptsprachen_top50_od3011/download/BEV301OD3011.csv\"\n\ndat_lang <- read_delim(url(urlfile), delim = \",\", col_names = T)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 50 Columns: 7\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (1): Sprache\ndbl (6): AntBev, AnzBev, untAntBevKI, obAntBevKI, untAnzBevKI, obAnzBevKI\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\nhead(dat_lang)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 7\n  Sprache        AntBev AnzBev untAntBevKI obAntBevKI untAnzBevKI obAnzBevKI\n  <chr>           <dbl>  <dbl>       <dbl>      <dbl>       <dbl>      <dbl>\n1 Deutsch          74.9 259670        74.4       75.3      257970     261380\n2 Englisch         13.5  46970        13.2       13.9       45630      48320\n3 Italienisch       6.2  21390         5.9        6.4       20470      22310\n4 Französisch       4.9  17060         4.7        5.2       16230      17890\n5 Spanisch          4.3  14940         4.1        4.5       14140      15740\n6 Serbokroatisch    3.1  10900         2.9        3.3       10220      11590\n```\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}